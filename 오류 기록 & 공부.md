Connecting to 'http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json' violates the following Content Security Policy directive: "default-src 'none'". The request has been blocked. Note that 'connect-src' was not explicitly set, so 'default-src' is used as a fallback.

### *#첫 번째 오류 발생*

\#req.body로 받는데 app.use(express.json());

app.use(express.urlencoded({extended:true}));

얘네를 안 씀

++ app.use((req, res, next) =>{

&nbsp;   res.removeHeader("Content-Security-Policy");

&nbsp;   next();

});




### *#두 번째 오류 발생*

\#ejs에서 ?_method=PUT 형식으로 폼 전송을 하여서 서버에서 app.put을 하였는데
cannot POST 라는 에러가 계속해서 발생

const methodOverride = require('method-override');
app.use(methodOverride('_method'))
로 셋팅을 하지 않아서 발생했던 것임




npm install sequelize sequelize-cli mysql2

\#db 작업을 쉽게 해주는 라이브러리인 sequelize 설치



sequelize init

\#초기화 명령어



config == db 설정 파일

mirgrations == git처럼 db가 변화하는 과정들을 추적함 변화를 취소하거나 db에 반영 ㄱㄴ

models == db 각 테이블의 정보 및 필드 타입 정의

seeders == 테이블에 기본 데이터를 넣고 싶을 때



require("dotenv".config());

 npm i dotenv

\#.env에서 꺼내서 쓰려면 dontev




npm install express express-session sequelize connect-session-sequelize
\#session 쿠키를 db에 넣을 때


const session = require('express-session');  
\#session 미들웨어

const {Sequelize} = require('sequelize');
\#Sequelize ORM

const SequelizeStore = require('connect-session-sequelize')(session.Store)
\#세션을 db에 저장할 수 있게 해주는

const sequelize = new Sequelize('database', 'username', 'password', {
    dialect: 'mysql',
    host:process.env.DB_HOST,
    port: process.env.PORT
})
\#db 연결하기

const store = new SequelizeStore({
    db: sequelize,
    tableName: 'Sessions',
})
\#Sessions라는 이름의 테이블에 저장하겠다


store.sync();
\#세션 테이블 없으면 자동 생성